AllConnections:
  get:
    description: List all connections associated with a given interconnect.
    operationId: ListConnections
    parameters:
    - $ref: "../parameters/_index.yaml#/parameters/provider"
    - $ref: "../parameters/_index.yaml#/parameters/environment"
    - $ref: "../parameters/_index.yaml#/parameters/interconnect"
    - description: |-
        The maximum number of connections to return. The service may return fewer
        than this value.
      explode: true
      in: query
      name: pageSize
      required: false
      schema:
        format: int32
        type: integer
      style: form
    - description: |-
        A page token, received from a previous `ListConnections` call.
        Provide this to retrieve the subsequent page.

        When paginating, all other parameters provided to `ListConnections` must
        match the call that provided the page token.
      explode: true
      in: query
      name: pageToken
      required: false
      schema:
        type: string
      style: form
    responses:
      default:
        content:
          application/json:
            schema:
              $ref: "../schemas/connection.yaml#/ListConnectionsResponse"
        description: Successful operation
    security: []
    tags:
    - Connections
  post:
    description: |-
      Create a new connection associated with a given interconnect.

      When calling this API, remote providers must first create a connection
      resource locally.  This ensures the remote provider can handle server
      failures (retries and cleanup).

      If connection creation fails, the provider should restart their call flow
      refreshing any environment and interconnect details used to create the
      request and retry.  When retrying, client should use an exponential
      backoff strategy for up to 60 seconds.

      Errors:
          409: CONFLICT. The resource is being created or has already been
          created.
    operationId: CreateConnection
    parameters:
    - $ref: "../parameters/_index.yaml#/parameters/provider"
    - $ref: "../parameters/_index.yaml#/parameters/environment"
    - $ref: "../parameters/_index.yaml#/parameters/interconnect"
    - description: |-
        Required. The ID to use for the connection, which will become the final component of
        the connection's resource name.
      explode: true
      in: query
      name: connectionId
      required: true
      schema:
        type: string
      style: form
    requestBody:
      content:
        application/json:
          schema:
            $ref: "../schemas/connection.yaml#/Connection"
      description: Required. The connection to create.
    responses:
      default:
        content:
          application/json:
            schema:
              $ref: "../schemas/connection.yaml#/Connection"
        description: Successful operation
    security: []
    tags:
    - Connections
OneConnection:
  delete:
    description: Delete a specific connection.
    operationId: DeleteConnection
    parameters:
    - $ref: "../parameters/_index.yaml#/parameters/provider"
    - $ref: "../parameters/_index.yaml#/parameters/environment"
    - $ref: "../parameters/_index.yaml#/parameters/interconnect"
    - $ref: "../parameters/_index.yaml#/parameters/connection"
    responses:
      default:
        content:
          application/json:
            schema:
              $ref: "../schemas/common.yaml#/Empty"
        description: Successful operation
    security: []
    tags:
    - Connections
  get:
    description: Get details about a specific connection.
    operationId: GetConnection
    parameters:
    - $ref: "../parameters/_index.yaml#/parameters/provider"
    - $ref: "../parameters/_index.yaml#/parameters/environment"
    - $ref: "../parameters/_index.yaml#/parameters/interconnect"
    - $ref: "../parameters/_index.yaml#/parameters/connection"
    responses:
      default:
        content:
          application/json:
            schema:
              $ref: "../schemas/connection.yaml#/Connection"
        description: Successful operation
    security: []
    tags:
    - Connections
  patch:
    description: |-
      Update a specific connection's attributes.

      When calling this API if the field being updated is synchronized between
      the providers, the remote provider should update their local connection
      state before requesting an update to the server provider resource.  When
      requesting an update to a connection, all remote provider update requests
      must be rejected.

      Errors:
        409: CONFLICT. Returned when a server detect concurrent updates to the
        resource.
    operationId: UpdateConnection
    parameters:
    - $ref: "../parameters/_index.yaml#/parameters/provider"
    - $ref: "../parameters/_index.yaml#/parameters/environment"
    - $ref: "../parameters/_index.yaml#/parameters/interconnect"
    - $ref: "../parameters/_index.yaml#/parameters/connection"
    - description: The list of fields to update.
      explode: true
      in: query
      name: updateMask
      required: false
      schema:
        format: fieldmask
        pattern: "^(\\s*[^,\\s.]+(\\s*[,.]\\s*[^,\\s.]+)*)?$"
        type: string
      style: form
    requestBody:
      content:
        application/json:
          schema:
            $ref: "../schemas/connection.yaml#/Connection"
      description: Required. The connection to update.
    responses:
      default:
        content:
          application/json:
            schema:
              $ref: "../schemas/connection.yaml#/Connection"
        description: Successful operation
    security: []
    tags:
    - Connections
GenerateFeatureGuidance:
  post:
    description: |-
      Requests the server to generate feature guidance for all channels associated
      with a given connection and return the results.
    operationId: GenerateFeatureGuidance
    parameters:
    - $ref: "../parameters/_index.yaml#/parameters/provider"
    - $ref: "../parameters/_index.yaml#/parameters/environment"
    - $ref: "../parameters/_index.yaml#/parameters/interconnect"
    - $ref: "../parameters/_index.yaml#/parameters/connection"
    requestBody:
      content:
        application/json:
          schema:
            $ref: "../schemas/connection.yaml#/GenerateFeatureGuidanceRequest"
      description: The request body.
    responses:
      default:
        content:
          application/json:
            schema:
              $ref: "../schemas/connection.yaml#/GenerateFeatureGuidanceResponse"
        description: Successful operation
    security: []
    tags:
    - Connections
NotifyConnectionStatus:
  post:
    description: |-
      Notify a remote provider that the provisioning status of a connection has
      changed.

      A provider will typically send a remote provider two updates:
      1) A notification when a newly created channel has transitioned from
          PENDING to FINALIZED
      2) A notification when an existing channel transitions from FINALIZED
          to PENDING.  This happens when features change and need finalization.
      3) A notification when a channel is FINALIZED after a feature change.
    operationId: NotifyConnectionStatus
    parameters:
    - $ref: "../parameters/_index.yaml#/parameters/provider"
    - $ref: "../parameters/_index.yaml#/parameters/environment"
    - $ref: "../parameters/_index.yaml#/parameters/interconnect"
    - $ref: "../parameters/_index.yaml#/parameters/connection"
    requestBody:
      content:
        application/json:
          schema:
            $ref: "../schemas/connection.yaml#/NotifyConnectionStatusRequest"
      description: The request body.
    responses:
      default:
        content:
          application/json:
            schema:
              $ref: "../schemas/common.yaml#/Empty"
        description: Successful operation
    security: []
    tags:
    - Connections